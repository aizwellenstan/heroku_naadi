(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceeb5"],{6203:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"el-card login-card text-primary fs-xl is-always-shadow"},[r("div",{staticClass:"el-card__header"},[t._v("刪除帳戶")]),t._v(" "),r("div",{staticClass:"el-card__body"},[t.renderComponent?r("div",{staticClass:"table-responsive"},t._l(t.userslist,(function(e,o,s){return r("table",{key:s,staticClass:"table table-striped table-hover",staticStyle:{color:"black"},attrs:{border:"1",width:"242px"}},[r("tr",[r("td",{attrs:{width:"92px"}},[t._v("使用者名稱")]),r("td",[t._v(t._s(e.username)+" ")])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("說明")]),r("td",[t._v(t._s(e.description))])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("權限")]),r("td",[t._v(t._s(e.group))])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("語言")]),r("td",[t._v(t._s(e.language))])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("地址")]),r("td",[t._v(t._s(e.address))])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("電話號碼")]),r("td",[t._v(t._s(e.phone))])]),t._v(" "),r("tr",[r("td",{attrs:{width:"92px"}},[t._v("email")]),r("td",[t._v(t._s(e.email))])]),t._v(" "),r("tr",[r("td",{attrs:{colspan:"2"}},[r("center",["Guest"==t.group||"User"==t.group&&("User"==e.group&&t.userid!==e.id||"Manger"==e.group)?r("span",{staticStyle:{color:"red"}},[t._v("權限不足")]):r("button",{staticClass:"btn btn-danger",on:{click:function(r){return t.handleDelete(e.id)}}},[t._v("Delete")])])],1)])])})),0):t._e()])])])},s=[],a=r("a8f8"),n=a["b"]+"/user/search",d=a["b"]+"/user",i=localStorage.getItem("CompanyId"),c=localStorage.getItem("ProductId"),l=localStorage.getItem("ProjectId"),u={data:function(){return{userid:"",group:"",renderComponent:!0,search:"",userslist:[]}},created:function(){this.userid=localStorage.getItem("userid"),this.group=localStorage.getItem("group")},mounted:function(){this.query()},methods:{forceRerender:function(){var t=this;this.renderComponent=!1,this.$nextTick((function(){t.renderComponent=!0,t.query()}))},query:function(){var t=this;fetch(n,{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json",Token:localStorage.getItem("token")},body:JSON.stringify({CompanyId:i,ProductId:c,ProjectId:l})}).then((function(t){return t.json().then((function(t){return{data:t}}))})).then((function(e){t.userslist=Object(e.data)}))},handleDelete:function(t){var e=this;fetch(d+"/".concat(t),{method:"delete",headers:{Token:localStorage.getItem("token")}}),this.userid==t?setTimeout((function(){localStorage.removeItem("token"),localStorage.removeItem("level"),localStorage.removeItem("userid"),e.$store.dispatch("user/logout"),document.location.href="/",delete localStorage.token}),1e3):(this.userslist="",this.forceRerender())}}},p=u,h=r("2877"),v=Object(h["a"])(p,o,s,!1,null,null,null);e["default"]=v.exports}}]);